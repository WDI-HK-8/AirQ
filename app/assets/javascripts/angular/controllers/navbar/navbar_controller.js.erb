app.controller('NavbarCtrl', ['$scope', '$auth', '$location', function($scope, $auth, $location){
  
  // check if user is logged in
   $scope.authResponse = $auth.validateUser()
   $scope.authStatus = $scope.authResponse.$$state.status
   $scope.authuserid = $auth.validateUser().$$state.value.id
   console.log($auth.validateUser()) //promise
   console.log($scope.authuserid) //user id

   if ($scope.authStatus == 2) {
     $scope.loggedIn = false;  
     console.log($scope.loggedIn);
   } else {
     $scope.loggedIn = true;
     console.log($scope.loggedIn);
   }

   $scope.logout = function () {
    $auth.signOut().then(function(response) {
      console.log(response);

      //user has logout, set to null
  
      $scope.authStatus =false;
      $scope.loggedIn = false;
      $location.path('/')
    }).catch(function(response) {
      console.log(response);
    });
  };
}]);