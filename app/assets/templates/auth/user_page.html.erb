<navbar></navbar>
<article class="jumbotron text-center col-xs-4" id="queue_finder">
  <h2>Hello, {{user_name}}!</h2>
  <a href="/#/user/update">Change your account information</a>

  <h2>Let's create a session:</h2>
  <p>Select from the following fields of</p>
  <form>
    <label>Select Industry:</label><br>
    <!-- ng-model will reference this dropdown selection value -->
    <!-- ng-change -->
    <select ng-model="industry" ng-change="industry_selection = industry">
      <option ng-repeat="industry in industries track by $index">{{industry}}</option>
    </select><br>

    <label>Select Company:</label><br>
    <select ng-model="company" ng-change="company_selection = company">
      <option ng-repeat="service in services | filter: industry_selection | unique: 'company_name'">{{service.company_name}}</option>
    </select><br>

    <label>Select Service:</label><br>
    <select ng-model="service" >
      <option ng-repeat="service in services | filter: company_selection">{{service.service_name}}</option>
    </select><br>
    <br>
    <button type="submit" ng-click="createSession(service)">Submit</button> 
  </form>
</article>

<article class="jumbotron col-xs-8" id="queue_list">
  <h2>You are currently waiting for {{sessions_count}} queues</h2>
  <table id="session_table" class=" table table-bordered table-striped" ng-repeat="session in sessions">
    <tr>
      <th>Service:</th>
      <td>{{session.service_name}}</td>
    </tr>
    <tr>
      <th>Company:</th>
      <td>{{session.service_company}}</td>
    </tr>
    <tr>
      <th>Place: </th>
      <td>{{session.service_company_address}}</td>
    </tr>
    <tr>
      <th>Email: </th>
      <td>{{session.service_company_email}}</td>
    </tr>
    <tr>
      <th>Phone: </th>
      <td>{{session.service_company_phone_number}}</td>
    </tr>
    <tr>
      <th>Estimated Wait Time: </th>
      <td>{{session.estWaitTime}}</td>
    </tr>
  </table>

</article>